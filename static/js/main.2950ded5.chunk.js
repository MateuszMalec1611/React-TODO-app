(this["webpackJsonpto-do-app"]=this["webpackJsonpto-do-app"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(7),i=n.n(c),o=(n(13),n(2)),l=n(8),r=n(0),d=Object(a.createContext)(),b="DONE",j="EDIT",u="REMOVE",O=[{id:0,name:"Wywiesi\u0107 pranie",done:!1},{id:1,name:"Zrobi\u0107 obiad",done:!1},{id:2,name:"P\xf3j\u015b\u0107 na spacer ",done:!1}],h=function(e,t){switch(t.type){case"ADD":return[].concat(Object(l.a)(e),[t.newTask]);case b:return e.map((function(e){return e.id===t.id&&(e.done=!0),e}));case j:return t.editedTasks;case u:return e.filter((function(e){return e.id!==t.id}));default:throw new Error("Something went wrong")}},x=function(e){var t=e.children,n=Object(a.useReducer)(h,O),s=Object(o.a)(n,2),c=s[0],i=s[1],l=Object(a.useState)(!1),b=Object(o.a)(l,2),j=b[0],u=b[1],x=Object(a.useState)(null),m=Object(o.a)(x,2),_=m[0],k=m[1];return Object(r.jsx)(d.Provider,{value:{dispatch:i,getTaskId:function(e){return k(e)},isModalActive:j,state:c,taskId:_,toggleModalVisibility:function(){return u(!j)}},children:t})},m=(n(15),3),_=function(){var e=Object(a.useContext)(d).dispatch,t=Object(a.useState)(""),n=Object(o.a)(t,2),s=n[0],c=n[1],i=Object(a.useState)(!1),l=Object(o.a)(i,2),b=l[0],j=l[1];return Object(r.jsxs)("form",{onSubmit:function(t){(t.preventDefault(),s.length<2)?j(!0):(e({newTask:{id:m,name:s,done:!1},type:"ADD"}),m++,c(""),j(!1))},className:"addTask",children:[Object(r.jsxs)("label",{className:"addTask__label",children:["Add task",Object(r.jsx)("input",{onChange:function(e){return c(e.target.value)},value:s,className:"addTask__input",type:"text"})]}),b&&Object(r.jsx)("p",{className:"addTask__error",children:"The task must be at least 2 characters long"}),Object(r.jsx)("button",{className:"addTask__btn",children:"add"})]})},k=(n(16),function(){var e=Object(a.useContext)(d),t=e.dispatch,n=e.isModalActive,s=e.state,c=e.taskId,i=e.toggleModalVisibility,l=Object(a.useState)(""),b=Object(o.a)(l,2),u=b[0],O=b[1],h=Object(a.useState)(!1),x=Object(o.a)(h,2),m=x[0],_=x[1];Object(a.useEffect)((function(){if(n){var e=s.find((function(e){return e.id===c}));O(e.name)}}),[n,s,c]);var k=function(){i(),O(""),_(!1)};return Object(r.jsxs)("div",{className:n?"modal modal--active":"modal",children:[Object(r.jsx)("h3",{className:"modal__header",children:"edit task"}),Object(r.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),u.length<2)_(!0);else{var n=s.map((function(e){return e.id===c&&(e.name=u),e}));t({editedTasks:n,type:j}),k()}},children:[Object(r.jsxs)("div",{className:"modal__box",children:[Object(r.jsx)("input",{onChange:function(e){O(e.target.value)},value:u,type:"text",className:"modal__box-input"})," ",Object(r.jsx)("button",{className:"modal__btn",children:"edit"})]}),m&&Object(r.jsx)("p",{className:"modal__error",children:"The task must be at least 2 characters long"})]}),Object(r.jsx)("button",{onClick:k,className:"modal__btn modal__btn--cancel",children:"cancel"})]})}),f=n(4),p=(n(17),function(e){var t=Object(a.useContext)(d),n=t.toggleModalVisibility,s=t.getTaskId,c=e.id,i=e.name,o=e.done,l=e.onClickHandler,j=function(){return l({id:c,type:u})},O=Object(r.jsxs)("li",{className:"task",children:[Object(r.jsx)("p",{className:"task__title",children:i}),Object(r.jsxs)("div",{className:"task__btn-box",children:[Object(r.jsx)("button",{onClick:function(){return l({id:c,type:b})},className:"task__btn-box-btn",children:"done"}),Object(r.jsx)("button",{onClick:function(){s(c),n()},className:"task__btn-box-btn",children:"edit"}),Object(r.jsx)("button",{onClick:j,className:"task__btn-box-btn",children:"x"})]})]}),h=Object(r.jsxs)("li",{className:"task",children:[Object(r.jsx)("p",{className:"task__title task__title--done",children:i}),Object(r.jsx)("div",{className:"task__btn-box",children:Object(r.jsx)("button",{onClick:j,className:"task__btn-box-btn task__btn-box-btn--done",children:"x"})})]});return Object(r.jsx)(r.Fragment,{children:o?h:O})}),N=(n(18),function(){var e=Object(a.useContext)(d),t=e.state,n=e.dispatch,s=t.filter((function(e){return!e.done})),c=t.filter((function(e){return e.done})),i=s.map((function(e){return Object(r.jsx)(p,Object(f.a)(Object(f.a)({},e),{},{onClickHandler:n}),e.id)})),o=c.map((function(e){return Object(r.jsx)(p,Object(f.a)(Object(f.a)({},e),{},{onClickHandler:n}),e.id)})),l=0===i.length?Object(r.jsx)("p",{className:"tasks-box__info",children:"No tasks on the list"}):Object(r.jsx)("ul",{className:"tasks-box__ul",children:i}),b=0===o.length?Object(r.jsx)("p",{className:"tasks-box__info",children:"No tasks completed"}):Object(r.jsx)("ul",{className:"tasks-box__ul",children:o});return Object(r.jsxs)("div",{className:"tasks-box",children:[Object(r.jsxs)("h2",{className:"tasks-box__header",children:["Tasks to do (",!1===i.length?"0":i.length,")"]}),l,Object(r.jsxs)("h3",{className:"tasks-box__header--done",children:["Done tasks (",!1===o.length?"0":o.length,")"]}),b]})}),v=(n(19),function(){return Object(r.jsx)("div",{className:"toDo",children:Object(r.jsxs)("div",{className:"toDo__container",children:[Object(r.jsx)("h1",{className:"toDo__header",children:"todo app"}),Object(r.jsxs)(x,{children:[Object(r.jsx)(_,{}),Object(r.jsx)(N,{}),Object(r.jsx)(k,{})]})]})})});i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(v,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.2950ded5.chunk.js.map