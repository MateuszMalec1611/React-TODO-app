{"version":3,"sources":["api.js","store/TodoList/TodoList.services.jsx","store/TodoList/TodoList.actions.jsx","utils/prepareData.js","store/TodoList/TodoList.context.jsx","components/AddTask/AddTask.jsx","components/TasksList/TaskListType.js","components/Loader/Loader.jsx","components/Task/Task.jsx","components/TasksList/TasksList.jsx","App.jsx","index.js"],"names":["api","axios","create","baseURL","process","fetchAllTasks","a","get","data","addTask","task","post","setDoneOrTodo","value","put","id","delete","changeOrder","order","editTask","removeTask","SET_DATA","CHANGE_LIST_ORDER","DONE","EDIT","ERROR","LOADING","REMOVE","prepareData","todoList","Object","entries","key","push","TodoListContext","createContext","initialState","todoListTodo","todoListDone","isLoading","error","undefined","toDoListReducer","state","type","payload","todo","sort","b","done","newTasksOrderTodo","newTasksOrderDone","newTodoList","newDoneList","newTodoListTodo","map","newTasksListTodo","filter","newTasksListDone","alert","console","TodoAppProvider","children","useReducer","todoListState","dispatch","setTasks","tasks","useEffect","Provider","AddTask","useContext","useState","taskValue","setTaskValue","taskError","setTaskError","handleaddTaskSubmit","event","preventDefault","length","newTask","name","onSubmit","className","onChange","target","TODO_LIST","DONE_LIST","Loader","Task","index","isEditing","editingTask","setEditingTask","useClickOutside","taskRef","hasClickedOutside","inputRef","useRef","handleDelete","handleDone","doneTask","handleEditionComponent","useCallback","current","focus","taskToDoElements","ref","onClick","taskToDo","draggableId","provided","draggableProps","dragHandleProps","composeRefs","innerRef","taskDone","TasksList","onDragEnd","result","destination","source","droppableId","start","finish","splice","forEach","item","renderTasksToDo","renderTasksDone","showTasksToDo","showTasksDone","tasksFullList","droppableProps","placeholder","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dd2764cd.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport const api = () => {\r\n\r\n  const instance = axios.create({\r\n    baseURL: process.env.REACT_APP_TASKS_API,\r\n  });\r\n\r\n  return instance;\r\n}\r\n\r\nexport default api;","import api from '../../api';\r\n\r\nexport const fetchAllTasks = async () => {\r\n    const { data } = await api().get('/Todo.json');\r\n    return data ?? [];\r\n};\r\n\r\nexport const addTask = async task => {\r\n    await api().post(`/Todo/todo.json`, task);\r\n};\r\n\r\nexport const setDoneOrTodo = async (task, value) => {\r\n    if (value) {\r\n        await api().put(`/Todo/done/${task.id}.json`, task);\r\n        await api().delete(`/Todo/todo/${task.id}.json`);\r\n    } else if (!value) {\r\n        await api().put(`/Todo/todo/${task.id}.json`, task);\r\n        await api().delete(`/Todo/done/${task.id}.json`);\r\n    }\r\n};\r\n\r\nexport const changeOrder = async (task, value, order) => {\r\n    // IF ONLY ORDER IS TO CHANGE\r\n    if (value) await api().put(`/Todo/todo/${task.id}.json`, task);\r\n    if (!value) await api().put(`/Todo/done/${task.id}.json`, task);\r\n    //IF ORDER AND STATE OF TODO , DONE\r\n    if (!value && order) {\r\n        await api().put(`/Todo/done/${task.id}.json`, task);\r\n        await api().delete(`/Todo/todo/${task.id}.json`);\r\n    } else if (value && order) {\r\n        await api().put(`/Todo/todo/${task.id}.json`, task);       \r\n        await api().delete(`/Todo/done/${task.id}.json`);\r\n    }\r\n};\r\n\r\nexport const editTask = async task => {\r\n    await api().put(`/Todo/todo/${task.id}.json`, task);\r\n};\r\n\r\nexport const removeTask = async (id, value) => {\r\n    if (value) await api().delete(`/Todo/todo/${id}.json`);\r\n    if (!value) await api().delete(`/Todo/done/${id}.json`);\r\n};\r\n","export const SET_DATA = 'DATA_TODO';\r\nexport const ADD = 'ADD';\r\nexport const CHANGE_LIST_ORDER = 'CHANGE_ORDER_TODO';\r\nexport const DONE = 'DONE';\r\nexport const EDIT = 'EDIT';\r\nexport const ERROR = 'ERROR';\r\nexport const LOADING = 'LOADING';\r\nexport const REMOVE = 'REMOVE';","export const prepareData = data => {\r\n    if (!data) return;\r\n    const todoList = [];\r\n\r\n    for (const [key, value] of Object.entries(data)) {\r\n        todoList.push({\r\n            id: key,\r\n            ...value,\r\n        });\r\n    }\r\n\r\n    return todoList;\r\n};\r\n","import { createContext, useReducer, useEffect } from 'react';\r\nimport { fetchAllTasks  } from './TodoList.services';\r\nimport { ADD, CHANGE_LIST_ORDER, DONE, EDIT, ERROR, SET_DATA, REMOVE, LOADING } from './TodoList.actions';\r\nimport { prepareData } from '../../utils/prepareData';\r\n\r\nexport const TodoListContext = createContext();\r\n\r\nconst initialState = {\r\n    todoListTodo: [],\r\n    todoListDone: [],\r\n    isLoading: false,\r\n    error: undefined,\r\n};\r\n\r\nconst toDoListReducer = (state, { type, payload }) => {\r\n    switch (type) {\r\n        case SET_DATA:\r\n            payload.todo && payload.todo.sort((a, b) => a.order - b.order);\r\n            payload.done && payload.done.sort((a, b) => a.order - b.order);\r\n            return {\r\n                ...state,\r\n                todoListTodo: payload.todo ?? [],\r\n                todoListDone: payload.done ?? [],\r\n                isLoading: false,\r\n            };\r\n        case ADD:\r\n            return {\r\n                ...state,\r\n                todoList: [...state.todoListTodo, payload],\r\n                isLoading: false,\r\n            };\r\n        case CHANGE_LIST_ORDER:\r\n            return {\r\n                ...state,\r\n                todoListTodo: payload.newTasksOrderTodo,\r\n                todoListDone: payload.newTasksOrderDone,\r\n                isLoading: false,\r\n            }\r\n        case DONE:   \r\n            return {\r\n                ...state,\r\n                todoListTodo: payload.newTodoList,\r\n                todoListDone: payload.newDoneList,\r\n                isLoading: false,\r\n            };\r\n        case EDIT:\r\n            const newTodoListTodo = state.todoListTodo.map(todo => {\r\n                if (todo.id === payload.id) todo = payload;\r\n                return todo;\r\n            });\r\n            return {\r\n                ...state,\r\n                todoListTodo: newTodoListTodo,\r\n                isLoading: false,\r\n            };\r\n        case REMOVE:\r\n            const newTasksListTodo = payload.value ? state.todoListTodo.filter(todo => todo.id !== payload.id) : state.todoListTodo;\r\n            const newTasksListDone = !payload.value ? state.todoListDone.filter(todo => todo.id !== payload.id) : state.todoListDone;\r\n            return {\r\n                ...state,\r\n                todoListTodo: newTasksListTodo,\r\n                todoListDone: newTasksListDone,\r\n                isLoading: false,\r\n            };\r\n        case LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: payload,\r\n            };\r\n        case ERROR:\r\n            alert(payload)\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n            };\r\n\r\n        default:\r\n            console.error('Something went wrong');\r\n    }\r\n};\r\n\r\nconst TodoAppProvider = ({ children }) => {\r\n    const [todoListState, dispatch] = useReducer(toDoListReducer, initialState);\r\n\r\n    const setTasks = async () => {\r\n        dispatch({ type: LOADING, payload: true });\r\n        try {\r\n            const tasks = await fetchAllTasks();\r\n            dispatch({ type: SET_DATA, payload: {todo: prepareData(tasks.todo), done: prepareData(tasks.done)} });\r\n        } catch (err) {\r\n            dispatch({ type: ERROR, payload: err });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setTasks();\r\n    }, []);\r\n\r\n    return (\r\n        <TodoListContext.Provider\r\n            value={{\r\n                dispatch,\r\n                todoListState,\r\n                setTasks,\r\n            }}>\r\n            {children}\r\n        </TodoListContext.Provider>\r\n    );\r\n};\r\n\r\nexport default TodoAppProvider;\r\n","import React, { useState, useContext } from 'react';\r\nimport { TodoListContext } from '../../store/TodoList/TodoList.context';\r\nimport { addTask } from '../../store/TodoList/TodoList.services';\r\nimport { ADD, ERROR, LOADING } from '../../store/TodoList/TodoList.actions';\r\nimport './AddTask.scss';\r\n\r\nconst AddTask = () => {\r\n    const { dispatch, setTasks, todoListState: { isLoading } } = useContext(TodoListContext);\r\n    \r\n    const [taskValue, setTaskValue] = useState('');\r\n    const [taskError, setTaskError] = useState(false);\r\n\r\n    const handleAddTaskValue = ({ target: { value } }) => setTaskValue(value);\r\n    const handleaddTaskSubmit = async event => {\r\n        event.preventDefault();\r\n        if (taskValue.length < 2) {\r\n            setTaskError(true);\r\n            return;\r\n        }\r\n        dispatch({ type: LOADING, payload: true });\r\n        \r\n        const newTask = {\r\n            name: taskValue,\r\n            done: false,\r\n            id: null,\r\n            order: null,\r\n        };\r\n        \r\n        try {\r\n            await addTask(newTask);\r\n            dispatch({ type: ADD, payload: newTask });\r\n            setTasks();\r\n        } catch (err) {\r\n            dispatch({type: ERROR, payload: err});\r\n        }\r\n        \r\n        setTaskValue('');\r\n        setTaskError(false);\r\n    };\r\n\r\n    const preventEmptySubmit = event => {\r\n        event.preventDefault();\r\n        return;\r\n    }\r\n    \r\n\r\n    return (\r\n        <form onSubmit={isLoading ? preventEmptySubmit : handleaddTaskSubmit} className=\"addTask\">\r\n            <label className=\"addTask__label\">\r\n                Add task\r\n                <input\r\n                    onChange={handleAddTaskValue}\r\n                    value={isLoading ? '' : taskValue}\r\n                    className=\"addTask__input\"\r\n                    type=\"text\"\r\n                />\r\n            </label>\r\n            {taskError && (\r\n                <p className=\"addTask__error\">The task must be at least 2 characters long</p>\r\n            )}\r\n            <button className=\"addTask__btn\">add</button>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default AddTask;\r\n","export const TODO_LIST = 'TODO';\r\nexport const DONE_LIST = 'DONE';","import React from 'react';\r\nimport './Loader.scss';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"loading-mask\">\r\n            <div className=\"preloader\">\r\n                <div className=\"c-three-dots-loader\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useState, useContext, useRef, useEffect, useCallback } from 'react';\r\nimport composeRefs from '@seznam/compose-react-refs'\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport { useClickOutside } from 'react-click-outside-hook';\r\nimport { DONE, EDIT, ERROR, LOADING, REMOVE } from '../../store/TodoList/TodoList.actions';\r\nimport { editTask, removeTask, setDoneOrTodo  } from '../../store/TodoList/TodoList.services';\r\nimport { TodoListContext } from '../../store/TodoList/TodoList.context';\r\nimport './Task.scss';\r\n\r\nconst Task = ({ task, index, task: { id, name, done } }) => {\r\n    const {\r\n        dispatch,\r\n        todoListState: { isLoading, todoListTodo, todoListDone },\r\n    } = useContext(TodoListContext);\r\n    const [editingTask, setEditingTask] = useState({\r\n        isEditing: false,\r\n        name: '',\r\n    });\r\n    const [taskRef, hasClickedOutside] = useClickOutside();\r\n    const inputRef = useRef();\r\n\r\n    // DELETE BTN\r\n    const handleDelete = async value => {\r\n        dispatch({ type: LOADING, payload: true });\r\n\r\n        try {\r\n            await removeTask(id, value);\r\n            dispatch({ type: REMOVE, payload: { id, value } });\r\n        } catch (err) {\r\n            dispatch({ type: ERROR, payload: err });\r\n        }\r\n    };\r\n\r\n    // DONE BTN\r\n    const handleDone = async value => {\r\n        const doneTask = {\r\n            ...task,\r\n            done: value\r\n        };\r\n        dispatch({ type: LOADING, payload: true });\r\n\r\n        if (value) {\r\n            const newTodoList = todoListTodo.filter(todo => todo.id !== task.id);\r\n            const newDoneList = [...todoListDone];\r\n            newDoneList.push(doneTask);\r\n            try {\r\n                await setDoneOrTodo (doneTask, value);\r\n                dispatch({ type: DONE, payload: { newTodoList, newDoneList } });\r\n            } catch (err) {\r\n                dispatch({ type: ERROR, payload: err });\r\n            }\r\n        } else if (!value) {\r\n            const newDoneList = todoListDone.filter(todo => todo.id !== task.id);\r\n            const newTodoList = [...todoListTodo];\r\n            newTodoList.push(doneTask);\r\n\r\n            try {\r\n                await setDoneOrTodo (doneTask, value);\r\n                dispatch({ type: DONE, payload: { newTodoList, newDoneList } });\r\n            } catch (err) {\r\n                dispatch({ type: ERROR, payload: err });\r\n            }\r\n        }\r\n    };\r\n\r\n    // EDITION BTN\r\n    const handleEditionComponent = useCallback(async () => {\r\n        if (editingTask.isEditing) {\r\n            inputRef.current.focus();\r\n            // SIMPLE VALIDATION\r\n            if (editingTask.name.length < 2) return;\r\n            if (editingTask.name === name) {\r\n                setEditingTask({ isEditing: false });\r\n                return;\r\n            }\r\n\r\n            const newTask = {\r\n                ...task,\r\n                name: editingTask.name,\r\n            };\r\n\r\n            try {\r\n                await editTask(newTask);\r\n                dispatch({ type: EDIT, payload: newTask });\r\n            } catch (err) {\r\n                dispatch({ type: ERROR, payload: err });\r\n            }\r\n            setEditingTask({ ...editingTask, isEditing: false });\r\n            return;\r\n        }\r\n        setEditingTask({ isEditing: true, name });\r\n    }, [dispatch, editingTask, name, task]);\r\n\r\n    const handleNameChange = ({ target: { value } }) => setEditingTask({ ...editingTask, name: value });\r\n\r\n    //FOCUS ON EDITING INPUT\r\n    useEffect(() => {\r\n        if (editingTask.isEditing) inputRef.current.focus();\r\n    }, [editingTask.isEditing]);\r\n\r\n    //HANDLE CLICK OUTSIDE\r\n    useEffect(() => {\r\n        if (hasClickedOutside && editingTask.isEditing) handleEditionComponent();\r\n    }, [editingTask.isEditing, handleEditionComponent, hasClickedOutside]);\r\n\r\n    // RENDER COMPONENTS\r\n    const taskToDoElements = (\r\n        <>\r\n            {editingTask.isEditing ? (\r\n                <input\r\n                    className=\"task__input\"\r\n                    type=\"text\"\r\n                    value={editingTask.name}\r\n                    onChange={handleNameChange}\r\n                    ref={inputRef}\r\n                />\r\n            ) : (\r\n                <p className=\"task__title\" onClick={handleEditionComponent}>\r\n                    {name}\r\n                </p>\r\n            )}\r\n            <div className=\"task__btn-box\">\r\n                <button\r\n                    onClick={editingTask.isEditing ? null : () => handleDone(true)}\r\n                    className=\"task__btn-box-btn\">\r\n                    done\r\n                </button>\r\n                <button\r\n                    onClick={isLoading ? null : handleEditionComponent}\r\n                    className=\"task__btn-box-btn\">\r\n                    {editingTask.isEditing ? 'ok' : 'edit'}\r\n                </button>\r\n                <button\r\n                    onClick={editingTask.isEditing ? null : () => handleDelete(true)}\r\n                    className=\"task__btn-box-btn\">\r\n                    x\r\n                </button>\r\n            </div>\r\n        </>\r\n    );\r\n\r\n    const taskToDo = (\r\n        <Draggable draggableId={id} index={index}>\r\n            {provided => (\r\n                <li\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    ref={composeRefs(provided.innerRef, taskRef)}\r\n                    className=\"task\">\r\n                    {taskToDoElements}\r\n                </li>\r\n            )}\r\n        </Draggable>\r\n    );\r\n\r\n    const taskDone = (\r\n        <Draggable draggableId={id} index={index}>\r\n            {provided => (\r\n                <li\r\n                    className=\"task\"\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    ref={provided.innerRef}>\r\n                    <p className=\"task__title task__title--done\">{name}</p>\r\n                    <div className=\"task__btn-box\">\r\n                        <button\r\n                            onClick={() => handleDone(false)}\r\n                            className=\"task__btn-box-btn task__btn-box-btn--undo\">\r\n                            undo\r\n                        </button>\r\n                        <button\r\n                            onClick={() => handleDelete(false)}\r\n                            className=\"task__btn-box-btn task__btn-box-btn--done\">\r\n                            x\r\n                        </button>\r\n                    </div>\r\n                </li>\r\n            )}\r\n        </Draggable>\r\n    );\r\n\r\n    return <>{!done ? taskToDo : taskDone}</>;\r\n};\r\n\r\nexport default Task;\r\n","import React, { useContext } from 'react';\r\nimport {\r\n    CHANGE_LIST_ORDER,\r\n    ERROR,\r\n    LOADING,\r\n} from '../../store/TodoList/TodoList.actions';\r\nimport { changeOrder } from '../../store/TodoList/TodoList.services';\r\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\r\nimport { TodoListContext } from '../../store/TodoList/TodoList.context';\r\nimport { TODO_LIST, DONE_LIST } from './TaskListType';\r\nimport Loader from '../Loader/Loader';\r\nimport Task from '../Task/Task';\r\nimport './TasksList.scss';\r\n\r\nconst TasksList = () => {\r\n    const {\r\n        dispatch,\r\n        todoListState: { todoListTodo, todoListDone, isLoading },\r\n    } = useContext(TodoListContext);\r\n\r\n    //DRAG AND DROP\r\n    const onDragEnd = async result => {\r\n        const { destination, source } = result;\r\n        if (!destination) return;\r\n        \r\n        if (\r\n            destination.droppableId === source.droppableId &&\r\n            destination.index === source.index\r\n        ) return;\r\n        \r\n        dispatch({ type: LOADING, payload: true });\r\n        const start = source.droppableId;\r\n        const finish = destination.droppableId;\r\n\r\n        if (start === finish) {\r\n            if (source.droppableId === TODO_LIST) {\r\n                const newTasksOrderTodo = [...todoListTodo];\r\n                const task = newTasksOrderTodo.splice(source.index, 1);\r\n                newTasksOrderTodo.splice(destination.index, 0, ...task);\r\n\r\n                newTasksOrderTodo.forEach((item, order) => item.order = order);\r\n               \r\n                try {\r\n                    await newTasksOrderTodo.forEach(task => changeOrder(task, true, false));\r\n                    dispatch({ type: CHANGE_LIST_ORDER, payload: {newTasksOrderTodo, newTasksOrderDone: todoListDone } });\r\n                } catch (err) {\r\n                    dispatch({ type: ERROR, payload: err + 'order' });\r\n                }\r\n            } else {\r\n                const newTasksOrderDone = [...todoListDone];\r\n                const task = newTasksOrderDone.splice(source.index, 1);\r\n                newTasksOrderDone.splice(destination.index, 0, ...task);\r\n\r\n                newTasksOrderDone.forEach((item, order) => item.order = order);\r\n\r\n                try {\r\n                    await newTasksOrderDone.forEach(task => changeOrder(task, false, false));\r\n                    dispatch({ type: CHANGE_LIST_ORDER, payload: { newTasksOrderDone, newTasksOrderTodo: todoListTodo } });\r\n                } catch (err) {\r\n                    dispatch({ type: ERROR, payload: err });\r\n                }\r\n            }\r\n        } else if (start !== finish) {\r\n            const newTasksOrderTodo = [...todoListTodo];\r\n            const newTasksOrderDone = [...todoListDone];\r\n            let task = [];\r\n\r\n            if(start === TODO_LIST && finish === DONE_LIST) task = newTasksOrderTodo.splice(source.index, 1);\r\n            if(start === DONE_LIST && finish === TODO_LIST) task = newTasksOrderDone.splice(source.index, 1);\r\n            task[0].done = !task[0].done;\r\n            \r\n            if(start === TODO_LIST && finish === DONE_LIST) newTasksOrderDone.splice(destination.index, 0, ...task);\r\n            if(start === DONE_LIST && finish === TODO_LIST) newTasksOrderTodo.splice(destination.index, 0, ...task);\r\n            \r\n            newTasksOrderDone.forEach((item, order) => item.order = order);\r\n            newTasksOrderTodo.forEach((item, order) => item.order = order);\r\n\r\n            try {\r\n                await newTasksOrderTodo.forEach(task => changeOrder(task, true, 'order'));\r\n                await newTasksOrderDone.forEach(task => changeOrder(task, false, 'order'));\r\n                dispatch({ type: CHANGE_LIST_ORDER, payload: { newTasksOrderDone, newTasksOrderTodo } });\r\n            } catch (err) {\r\n                dispatch({ type: ERROR, payload: err });\r\n            }\r\n        } \r\n    };\r\n\r\n    //CREATE TASKS COMPONENTS\r\n    const renderTasksToDo = todoListTodo.map((task, index) => (\r\n        <Task key={task.id} index={index} task={task} />\r\n    ));\r\n\r\n    const renderTasksDone = todoListDone.map((task, index) => (\r\n        <Task key={task.id} index={index} task={task} />\r\n    ));\r\n\r\n    //INSOLATE COMPONENTS INTO DONE AND TO DO\r\n    const showTasksToDo = !todoListTodo.length ? (\r\n        <p className=\"tasks-box__info\">No tasks on the list</p>\r\n    ) : (\r\n        <ul className=\"tasks-box__ul\">{renderTasksToDo}</ul>\r\n    );\r\n\r\n    const showTasksDone = !todoListDone.length ? (\r\n        <p className=\"tasks-box__info\">No tasks completed</p>\r\n    ) : (\r\n        <ul className=\"tasks-box__ul\">{renderTasksDone}</ul>\r\n    );\r\n\r\n    //COMPONENT TO RENDER\r\n    const tasksFullList = (\r\n        <DragDropContext onDragEnd={onDragEnd}>\r\n            <div className=\"tasks-box\">\r\n                <Droppable droppableId={TODO_LIST}>\r\n                    {provided => (\r\n                        <div\r\n                            ref={provided.innerRef}\r\n                            {...provided.droppableProps}\r\n                            className=\"tasks-box-todo\">\r\n                            <h2 className=\"tasks-box__header\">\r\n                                Tasks to do ({todoListTodo.length})\r\n                            </h2>\r\n                            {showTasksToDo}\r\n                            {provided.placeholder}\r\n                        </div>\r\n                    )}\r\n                </Droppable>\r\n\r\n                <Droppable droppableId={DONE_LIST}>\r\n                    {provided => (\r\n                        <div\r\n                            className=\"tasks-box-done\"\r\n                            ref={provided.innerRef}\r\n                            {...provided.droppableProps}>\r\n                            <h3 className=\"tasks-box__header--done\">\r\n                                Done tasks ({todoListDone.length})\r\n                            </h3>\r\n                            {showTasksDone}\r\n                            {provided.placeholder}\r\n                        </div>\r\n                    )}\r\n                </Droppable>\r\n            </div>\r\n        </DragDropContext>\r\n    );\r\n    return <>{isLoading ? <Loader /> : tasksFullList}</>;\r\n};\r\n\r\nexport default TasksList;\r\n","import React from 'react';\r\nimport TodoListProvider from './store/TodoList/TodoList.context';\r\nimport AddTask from './components/AddTask/AddTask';\r\nimport TaskList from './components/TasksList/TasksList';\r\nimport './App.scss';\r\n\r\nconst App = () => {\r\n    return (\r\n        <div className=\"toDo\">\r\n            <div className=\"toDo__container\">\r\n                <h1 className=\"toDo__header\">todo app</h1>\r\n                <TodoListProvider>\r\n                    <AddTask />\r\n                    <TaskList />\r\n                </TodoListProvider>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}